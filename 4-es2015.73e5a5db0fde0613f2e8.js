(window.webpackJsonp=window.webpackJsonp||[]).push([[4,30,32],{AxNX:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i=n("mrSG"),o=n("Mky/");class r{}var a=n("fXoL"),c=n("TEn/"),s=n("Ymxs"),d=n("e8h1"),l=n("s5zK"),b=n("Nm8O"),u=n("qfBg"),g=n("ofXK"),h=n("3Pt+"),m=n("64T9"),p=n("jhN1");let y=(()=>{class e{constructor(e){this.sanitized=e}transform(e){return this.sanitized.bypassSecurityTrustHtml(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(p.b))},e.\u0275pipe=a.Ib({name:"sanitizeHtml",type:e,pure:!0}),e})();function f(e,t){1&e&&a.Kb(0,"ion-icon",31)}function O(e,t){1&e&&a.Kb(0,"ion-icon",32)}function P(e,t){if(1&e){const e=a.Qb();a.Pb(0,"ion-grid"),a.Pb(1,"ion-row"),a.Pb(2,"ion-col",5),a.Pb(3,"ion-item",6),a.Pb(4,"ion-label"),a.Pb(5,"strong"),a.vc(6),a.ac(7,"currency"),a.Ob(),a.Ob(),a.Kb(8,"ion-icon",7),a.Ob(),a.Ob(),a.Pb(9,"ion-col",5),a.Pb(10,"ion-item",6),a.Pb(11,"ion-label"),a.Pb(12,"strong"),a.vc(13),a.ac(14,"currency"),a.Ob(),a.Ob(),a.Kb(15,"ion-icon",8),a.Ob(),a.Ob(),a.Pb(16,"ion-col",9),a.Pb(17,"ion-card",1),a.Pb(18,"ion-card-content"),a.vc(19," Hal-haz\u0131rda balans\u0131n\u0131zdak\u0131 v\u0259saitl\u0259r yuxar\u0131da g\xf6st\u0259rilmi\u015fdir. V\u0259sait art\u0131rmaq \xfc\xe7\xfcn a\u015fa\u011f\u0131da g\xf6st\u0259ril\u0259n xanalar\u0131 doldurub T\u0259sdiql\u0259 d\xfcym\u0259sini s\u0131x\u0131n. "),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(20,"ion-card"),a.Pb(21,"ion-card-content"),a.Pb(22,"form",10,11),a.Xb("ngSubmit",(function(){a.oc(e);const t=a.mc(23);return a.Zb(2).checkout(t)})),a.Pb(24,"ion-grid"),a.Pb(25,"ion-row"),a.Pb(26,"ion-col",9),a.Pb(27,"ion-item"),a.Kb(28,"ion-icon",12),a.Pb(29,"ion-input",13,14),a.Xb("ngModelChange",(function(t){return a.oc(e),a.Zb(2).checkoutData.full_name=t})),a.Ob(),a.Ob(),a.Ob(),a.Pb(31,"ion-col",9),a.Pb(32,"ion-item"),a.Kb(33,"ion-icon",12),a.Pb(34,"ion-input",15,16),a.Xb("ngModelChange",(function(t){return a.oc(e),a.Zb(2).checkoutData.card_number=t})),a.Ob(),a.Ob(),a.Ob(),a.Pb(36,"ion-col",5),a.Pb(37,"ion-item"),a.Kb(38,"ion-icon",12),a.Pb(39,"ion-input",17,18),a.Xb("ngModelChange",(function(t){return a.oc(e),a.Zb(2).checkoutData.exp_date=t})),a.Ob(),a.Ob(),a.Ob(),a.Pb(41,"ion-col",5),a.Pb(42,"ion-item"),a.Kb(43,"ion-icon",12),a.Pb(44,"ion-input",19,20),a.Xb("ngModelChange",(function(t){return a.oc(e),a.Zb(2).checkoutData.cvc=t})),a.Ob(),a.Ob(),a.Ob(),a.Pb(46,"ion-col",9),a.Pb(47,"ion-item"),a.Kb(48,"ion-icon",12),a.Pb(49,"ion-input",21,22),a.Xb("ngModelChange",(function(t){return a.oc(e),a.Zb(2).checkoutData.amount=t})),a.Ob(),a.tc(51,f,1,0,"ion-icon",23),a.tc(52,O,1,0,"ion-icon",24),a.Ob(),a.Ob(),a.Pb(53,"ion-radio-group",25),a.Xb("ngModelChange",(function(t){return a.oc(e),a.Zb(2).checkoutData.currency=t})),a.Pb(54,"ion-row"),a.Pb(55,"ion-col"),a.Pb(56,"ion-item",6),a.Kb(57,"ion-icon",26),a.Pb(58,"ion-label"),a.vc(59,"USD"),a.Ob(),a.Kb(60,"ion-radio",27),a.Ob(),a.Ob(),a.Pb(61,"ion-col"),a.Pb(62,"ion-item",6),a.Kb(63,"ion-icon",28),a.Pb(64,"ion-label"),a.vc(65,"TRY"),a.Ob(),a.Kb(66,"ion-radio",29),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(67,"ion-col",9),a.Pb(68,"ion-button",30),a.vc(69," T\u0259sdiql\u0259 "),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=a.mc(23),t=a.Zb(2);a.yb(6),a.wc(a.bc(7,21,t.user.wallet_usd)),a.yb(7),a.wc(a.cc(14,23,t.user.wallet_try,"\u20ba")),a.yb(15),a.gc("ios","person-circle-outline")("md","person-circle-sharp"),a.yb(1),a.gc("ngModel",t.checkoutData.full_name),a.yb(4),a.gc("ios","card-outline")("md","card-sharp"),a.yb(1),a.gc("ngModel",t.checkoutData.card_number),a.yb(4),a.gc("ios","calendar-outline")("md","calendar-sharp"),a.yb(1),a.gc("ngModel",t.checkoutData.exp_date),a.yb(4),a.gc("ios","lock-closed-outline")("md","lock-closed-sharp"),a.yb(1),a.gc("ngModel",t.checkoutData.cvc),a.yb(4),a.gc("ios","cash-outline")("md","cash-sharp"),a.yb(1),a.gc("ngModel",t.checkoutData.amount),a.yb(2),a.gc("ngIf","USD"===t.checkoutData.currency),a.yb(1),a.gc("ngIf","TRY"===t.checkoutData.currency),a.yb(1),a.gc("ngModel",t.checkoutData.currency),a.yb(15),a.gc("disabled",e.invalid)}}function v(e,t){if(1&e&&(a.Pb(0,"ion-card"),a.Kb(1,"iframe",33),a.ac(2,"sanitizeHtml"),a.Ob()),2&e){const e=a.Zb(2);a.yb(1),a.gc("srcdoc",a.bc(2,1,e.decodedHtml),a.pc)}}function k(e,t){if(1&e&&(a.Pb(0,"ion-content"),a.tc(1,P,70,26,"ion-grid",4),a.tc(2,v,3,3,"ion-card",4),a.Ob()),2&e){const e=a.Zb();a.yb(1),a.gc("ngIf",""===e.decodedHtml),a.yb(1),a.gc("ngIf",""!==e.decodedHtml)}}function x(e,t){1&e&&(a.Pb(0,"ion-content"),a.Pb(1,"ion-grid",34),a.Pb(2,"ion-row",35),a.Pb(3,"ion-col",36),a.Kb(4,"ion-img",37),a.Ob(),a.Ob(),a.Ob(),a.Ob())}let M=(()=>{class e{constructor(e,t,n,i,a,c,s){this.modalController=e,this.toaster=t,this.alertCtrl=n,this.storage=i,this.paymentService=a,this.helper=c,this.userService=s,this.user=new o.a,this.decodedHtml="",this.checkoutData=new r,this.isLoading=!1,this.isLoadingFor3ds=!1}onMessage(e){this.receiveMessage(e)}ngOnInit(){this.getUser(),this.checkoutData.amount=this.amount,this.checkoutData.currency=this.currency}getUser(){this.isLoading=!0,this.storage.get("access_token").then(e=>{this.userService.getDetail(this.helper.decodeToken(e).identity).subscribe(e=>{this.storage.set("user",e).then(t=>{this.user=e,this.isLoading=!1})},e=>{this.isLoading=!1,this.dismiss(),this.showAlert("Bilinm\u0259y\u0259n bir x\u0259ta ba\u015f verdi. Z\u0259hm\u0259t olmasa, daha sonra t\u0259krar yoxlay\u0131n.")})})}dismiss(){this.modalController.dismiss({dismissed:!0})}showAlert(e){this.alertCtrl.create({header:"X\u0259ta a\u015fkarland\u0131",message:e,buttons:["Tamam"]}).then(e=>e.present())}checkout(e){this.isLoading=!0,this.storage.get("access_token").then(e=>{this.checkoutData.user_id=this.helper.decodeToken(e).identity,this.paymentService.createPaymentByIyzico(this.checkoutData).subscribe(e=>{this.isLoading=!1;try{const t=JSON.parse(e);this.isLoading=!0,this.delay(1e3).then(e=>{this.decodedHtml=window.atob(t.html),this.isLoading=!1})}catch(t){t instanceof SyntaxError&&(this.decodedHtml=e)}},e=>{this.dismiss(),this.showAlert("\xd6d\u0259ni\u015f u\u011furlu olmad\u0131. Z\u0259hm\u0259t olmasa, t\u0259krar yoxlay\u0131n.")})})}delay(e){return Object(i.a)(this,void 0,void 0,(function*(){yield new Promise(t=>setTimeout(()=>t(),e)).then(()=>console.log("added"))}))}receiveMessage(e){"success"===e.data?("USD"===this.checkoutData.currency&&(this.user.wallet_usd+=this.checkoutData.amount),"TRY"===this.checkoutData.currency&&(this.user.wallet_try+=this.checkoutData.amount),this.storage.set("user",this.user).then(e=>{this.toaster.success("\xd6d\u0259ni\u015f u\u011furlu oldu!")})):this.toaster.danger("\xd6d\u0259ni\u015f u\u011fursuz oldu!"),this.delay(5e3).then(e=>{this.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(c.eb),a.Jb(s.a),a.Jb(c.a),a.Jb(d.b),a.Jb(l.a),a.Jb(b.b),a.Jb(u.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-checkout"]],hostBindings:function(e,t){1&e&&a.Xb("message",(function(e){return t.onMessage(e)}),!1,a.nc)},inputs:{amount:"amount",currency:"currency"},decls:9,vars:3,consts:[[3,"translucent"],["color","tertiary"],["slot","end"],[3,"click"],[4,"ngIf"],["size","6"],["lines","none"],["slot","start","color","primary","src","../../assets/icon/dollar.svg"],["slot","start","color","primary","src","../../assets/icon/turkish_lira.svg"],["size","12"],[3,"ngSubmit"],["checkoutForm","ngForm"],["slot","start",3,"ios","md"],["inputmode","text","required","","placeholder","Kart \xfcz\u0259rind\u0259ki ad","name","full_name","type","text",3,"ngModel","ngModelChange"],["full_name","ngModel"],["inputmode","text","required","","minlength","19","mask","0000-0000-0000-0000","placeholder","Kart n\xf6mr\u0259si","name","card_number","type","text",3,"ngModel","ngModelChange"],["card_number","ngModel"],["inputmode","text","required","","placeholder","AA / \u0130\u0130","name","exp_date","minlength","7","mask","00 / 00","type","text",3,"ngModel","ngModelChange"],["exp_date","ngModel"],["inputmode","text","required","","placeholder","CVC","name","cvc","minlength","3","mask","000","maxlength","3","type","text",3,"ngModel","ngModelChange"],["cvc","ngModel"],["inputmode","number","required","","placeholder","M\u0259bl\u0259\u011f","pattern","^(0*[1-9][0-9]*(\\.[0-9]+)?|0+\\.[0-9]*[1-9][0-9]*)$","name","amount","type","number",3,"ngModel","ngModelChange"],["amount","ngModel"],["slot","end","style","color: #757575","src","../../assets/icon/dollar.svg",4,"ngIf"],["slot","end","style","color: #757575","src","../../assets/icon/turkish_lira.svg",4,"ngIf"],["name","currency","required","",3,"ngModel","ngModelChange"],["slot","start","src","../../assets/icon/dollar.svg",2,"color","#757575"],["mode","ios","value","USD"],["slot","start","src","../../assets/icon/turkish_lira.svg",2,"color","#757575"],["mode","ios","value","TRY"],["color","tertiary","expand","block","type","submit",1,"ion-margin-top",2,"text-transform","capitalize",3,"disabled"],["slot","end","src","../../assets/icon/dollar.svg",2,"color","#757575"],["slot","end","src","../../assets/icon/turkish_lira.svg",2,"color","#757575"],["width","100%","height","500",2,"border","none",3,"srcdoc"],[2,"height","100%"],[1,"ion-justify-content-center","ion-align-items-center",2,"height","100%"],[1,"ion-text-center",2,"display","flex","justify-content","center","align-items","center"],["src","../assets/img/loading.gif",2,"width","100px","height","100px"]],template:function(e,t){1&e&&(a.Pb(0,"ion-header",0),a.Pb(1,"ion-toolbar",1),a.Pb(2,"ion-buttons",2),a.Pb(3,"ion-button",3),a.Xb("click",(function(){return t.dismiss()})),a.vc(4," Ba\u011fla "),a.Ob(),a.Ob(),a.Pb(5,"ion-title"),a.vc(6,"Balans art\u0131r"),a.Ob(),a.Ob(),a.Ob(),a.tc(7,k,3,2,"ion-content",4),a.tc(8,x,5,0,"ion-content",4)),2&e&&(a.gc("translucent",!1),a.yb(7),a.gc("ngIf",!t.isLoading),a.yb(1),a.gc("ngIf",t.isLoading))},directives:[c.t,c.ab,c.h,c.g,c.Z,g.k,c.p,c.s,c.M,c.o,c.x,c.B,c.u,c.i,c.j,h.m,h.g,h.h,c.w,c.mb,h.l,h.f,h.i,h.c,m.a,h.b,c.gb,h.j,c.I,c.lb,c.H,c.jb,c.v],pipes:[g.c,y],styles:[""]}),e})()},GaRv:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("fXoL"),o=n("TEn/"),r=n("ndxW"),a=n("ofXK");function c(e,t){1&e&&i.Kb(0,"div",13)}function s(e,t){if(1&e&&(i.Pb(0,"ion-row"),i.Pb(1,"ion-col",6),i.Pb(2,"div",7),i.Kb(3,"ion-icon",8),i.Ob(),i.tc(4,c,1,0,"div",9),i.Ob(),i.Pb(5,"ion-col",10),i.Pb(6,"div"),i.Pb(7,"ion-item",11),i.Pb(8,"ion-label"),i.Pb(9,"ion-text",12),i.vc(10),i.Ob(),i.Ob(),i.Pb(11,"small"),i.Pb(12,"ion-text",12),i.vc(13),i.ac(14,"date"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e){const e=t.$implicit,n=i.Zb();i.yb(4),i.gc("ngIf",n.states.length-1!==n.states.indexOf(e)),i.yb(6),i.xc(" ",n.stateService.getOrderStateInAzerbaijani(e.state.toString())," "),i.yb(3),i.xc(" ",i.dc(14,3,e.created_date,"dd MMMM yyyy","+4","az-Latn")," ")}}let d=(()=>{class e{constructor(e,t){this.modalController=e,this.stateService=t}ngOnInit(){}dismiss(){this.modalController.dismiss({dismissed:!0})}}return e.\u0275fac=function(t){return new(t||e)(i.Jb(o.eb),i.Jb(r.a))},e.\u0275cmp=i.Db({type:e,selectors:[["app-order-tracking"]],inputs:{states:"states"},decls:10,vars:2,consts:[[3,"translucent"],["color","tertiary"],["slot","end"],[3,"click"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["size","2",1,"ion-no-padding","ion-no-margin"],[1,"circle"],["color","light","name","airplane"],["class","stick",4,"ngIf"],["size","10",1,"ion-no-padding","ion-no-margin"],["lines","full",1,"ion-text-wrap"],["color","primary"],[1,"stick"]],template:function(e,t){1&e&&(i.Pb(0,"ion-header",0),i.Pb(1,"ion-toolbar",1),i.Pb(2,"ion-buttons",2),i.Pb(3,"ion-button",3),i.Xb("click",(function(){return t.dismiss()})),i.vc(4," Ba\u011fla "),i.Ob(),i.Ob(),i.Pb(5,"ion-title"),i.vc(6,"Sifari\u015f h\u0259r\u0259k\u0259tl\u0259ri"),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"ion-content",4),i.Pb(8,"ion-grid"),i.tc(9,s,15,8,"ion-row",5),i.Ob(),i.Ob()),2&e&&(i.gc("translucent",!1),i.yb(9),i.gc("ngForOf",t.states))},directives:[o.t,o.ab,o.h,o.g,o.Z,o.p,o.s,a.j,o.M,o.o,o.u,a.k,o.x,o.B,o.W],pipes:[a.e],styles:[".circle[_ngcontent-%COMP%]{height:50px;width:50px;background-color:var(--ion-color-primary);border-radius:50%;padding-top:17px}.circle[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{margin-left:18px}.stick[_ngcontent-%COMP%]{height:50px;border-left:2px solid var(--ion-color-primary);margin-left:25px}"]}),e})()},"Mky/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}},kVqo:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("H+bZ");let r=(()=>{class e{constructor(e){this.apiService=e}getOrders(e){return this.apiService.get("/orders/"+e)}getOrder(e){return this.apiService.get("/order/"+e)}addOrders(e){return this.apiService.post("/orders",e)}setOrdersToReadyToOrder(e,t,n){return this.apiService.post("/order/set_ready_to_order",{orders:e,amount:t,user_id:n})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a))},e.\u0275prov=i.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ndxW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class e{constructor(){}getPaymentStateInAzerbaijani(e){let t="";return"Created"===e?t="\u018flav\u0259 edilib":"Completed"===e?t="\xd6d\u0259ni\u015f tamamlan\u0131b":"Cancelled"===e&&(t="L\u0259v\u011f edilib"),t}getPaymentMethodInAzerbaijani(e){let t="";return"CreditDebitCard"===e?t="Kredit / Debit":"Cash"===e?t="Na\u011fd":"PromoCode"===e?t="Promo kod":"Terminal"===e?t="Terminal":"POS"===e?t="POS Terminal":"Wallet"===e&&(t="Balansdan \xe7\u0131xar\u0131\u015f"),t}getPackageStateInAzerbaijani(e){let t="";return"Declarations"===e?t="B\u0259yan edilib":"NotCompleted"===e?t="B\u0259yan edilm\u0259lidir":"ExternalStorage"===e?t="Xarici anbardad\u0131r":"OnWay"===e?t="Yoldad\u0131r":"CustomsClearance"===e?t="G\xf6mr\xfck yoxlan\u0131\u015f\u0131":"InternalStorage"===e?t="Yerli anbardad\u0131r":"Delivered"===e&&(t="T\u0259hvil edilib"),t}getOrderStateInAzerbaijani(e){let t="";return"Created"===e?t="\u018flav\u0259 edilib":"Paid"===e?t="\xd6d\u0259ni\u015f edilib":"Ordered"===e?t="Sifari\u015f edilib":"Updated"===e?t="T\u0259nziml\u0259nib":"NotCompleted"===e?t="D\xfcz\u0259li\u015f g\xf6zl\u0259nilir":"Deleted"===e?t="L\u0259v\u011f edilib":"Incomplete"===e?t="Natamam \xf6d\u0259ni\u015f":"ReadyToOrder"===e&&(t="Sifari\u015f edil\u0259c\u0259k"),t}getTicketStateInAzerbaijani(e){let t="";return"Created"===e?t="Q\u0259bul olunub":"Open"===e?t="A\xe7\u0131q":"InWork"===e?t="Ara\u015fd\u0131r\u0131l\u0131r":"Finished"===e&&(t="Ba\u011fland\u0131"),t}getCountryNameInAzerbaijani(e){let t="";return"Turkey"===e?t="T\xfcrkiy\u0259":"Germany"===e&&(t="Almaniya"),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},s5zK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),o=n("H+bZ");let r=(()=>{class e{constructor(e){this.apiService=e}getPayments(e){return this.apiService.get("/payments/"+e)}getPayment(e){return this.apiService.get("/payment/"+e)}createPaymentByIyzico(e){return this.apiService.post("/payment/iyzico",e)}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.a))},e.\u0275prov=i.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"y+FX":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e[e.Created=0]="Created",e[e.NotCompleted=1]="NotCompleted",e[e.Updated=2]="Updated",e[e.Paid=3]="Paid",e[e.Ordered=4]="Ordered",e[e.Deleted=5]="Deleted",e[e.Incomplete=6]="Incomplete",e[e.ReadyToOrder=7]="ReadyToOrder",e}({})}}]);