(window.webpackJsonp=window.webpackJsonp||[]).push([[6,31],{"1Aj9":function(t,o,n){"use strict";n.d(o,"a",(function(){return i}));class i{}},arML:function(t,o,n){"use strict";n.r(o),n.d(o,"OrderDetailPageModule",(function(){return X}));var i=n("ofXK"),e=n("3Pt+"),r=n("TEn/"),b=n("tyNb"),s=n("mrSG"),c=n("1Aj9"),a=n("GaRv"),l=n("AxNX"),d=n("Mky/"),p=n("y+FX"),u=n("fXoL"),O=n("kVqo"),P=n("e8h1"),m=n("Nm8O"),h=n("qfBg"),y=n("Ymxs");function g(t,o){if(1&t){const t=u.Qb();u.Pb(0,"ion-item",2),u.Xb("click",(function(){return u.oc(t),u.Zb(2).pay()})),u.Kb(1,"ion-icon",5),u.Pb(2,"ion-label"),u.vc(3," \xd6d\u0259ni\u015f et "),u.Ob(),u.Ob()}}function f(t,o){if(1&t){const t=u.Qb();u.Pb(0,"ion-list",1),u.Pb(1,"ion-item",2),u.Xb("click",(function(){return u.oc(t),u.Zb().presentTrackingModal()})),u.Kb(2,"ion-icon",3),u.Pb(3,"ion-label"),u.vc(4," H\u0259r\u0259k\u0259tl\u0259ri izl\u0259 "),u.Ob(),u.Ob(),u.tc(5,g,4,0,"ion-item",4),u.Ob()}if(2&t){const t=u.Zb();u.yb(5),u.gc("ngIf","Incomplete"===t.order.current_state.toString())}}function v(t,o){1&t&&(u.Pb(0,"ion-list",1),u.Pb(1,"ion-item",6),u.Pb(2,"ion-avatar",7),u.Kb(3,"ion-skeleton-text",8),u.Ob(),u.Pb(4,"ion-label"),u.Kb(5,"ion-skeleton-text",9),u.Ob(),u.Ob(),u.Pb(6,"ion-item",6),u.Pb(7,"ion-avatar",7),u.Kb(8,"ion-skeleton-text",8),u.Ob(),u.Pb(9,"ion-label"),u.Kb(10,"ion-skeleton-text",9),u.Ob(),u.Ob(),u.Ob())}let k=(()=>{class t{constructor(t,o,n,i,e,r,b,s,c,a){this.navParams=t,this.orderService=o,this.alertCtrl=n,this.popoverController=i,this.storage=e,this.helper=r,this.userService=b,this.toaster=s,this.router=c,this.modalController=a,this.user=new d.a,this.isLoading=!1}ngOnInit(){this.order=this.navParams.data.order,this.getUser()}presentTrackingModal(){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:a.a,swipeToClose:!0,componentProps:{states:this.order.states}});return yield t.present()}))}showAlert(t){this.alertCtrl.create({header:"X\u0259ta a\u015fkarland\u0131",message:t,buttons:["Tamam"]}).then(t=>t.present())}presentCheckoutModal(t,o){return Object(s.a)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:l.a,swipeToClose:!0,cssClass:"checkoutModal",componentProps:{amount:t,currency:o}});return yield n.present()}))}showConfirm(t){this.alertCtrl.create({header:"\xd6d\u0259ni\u015f et",message:t,buttons:[{text:"L\u0259v\u011f et",role:"cancel"},{text:"Balans art\u0131r",handler:()=>{this.presentCheckoutModal(this.order.missing_fee,"TRY").then(t=>console.log(t))}},{text:"Tamamla",handler:()=>{this.completePayment()}}]}).then(t=>t.present())}getUser(){this.storage.get("user").then(t=>{this.user=t})}pay(){this.showConfirm(`\n                            Hal-haz\u0131rk\u0131 balans: \u20ba${this.user.wallet_try.toFixed(2)}<br>\n                            Natamam m\u0259bl\u0259\u011f: \u20ba${this.order.missing_fee.toFixed(2)}<br>\n                            <hr>\n                            <small>Balans\u0131n\u0131zda kifay\u0259t q\u0259d\u0259r v\u0259sait yoxdursa, z\u0259hm\u0259t olmasa, balans art\u0131r d\xfcym\u0259sini s\u0131x\u0131n.</small>\n                        `)}completePayment(){this.orderService.setOrdersToReadyToOrder([this.order],this.order.missing_fee,this.user.id).subscribe(t=>{"User's wallet is not enough for payment."===JSON.parse(t).message?this.toaster.danger("Balans\u0131n\u0131zda kifay\u0259t q\u0259d\u0259r v\u0259sait yoxdur."):(this.toaster.success("\xd6d\u0259ni\u015finiz u\u011furla ba\u015fa \xe7atd\u0131."),this.order.current_state=p.a.ReadyToOrder)},t=>{this.showAlert("Bilinm\u0259y\u0259n bir x\u0259ta ba\u015f verdi. Z\u0259hm\u0259t olmasa, daha sonra t\u0259krar yoxlay\u0131n.")})}}return t.\u0275fac=function(o){return new(o||t)(u.Jb(r.fb),u.Jb(O.a),u.Jb(r.a),u.Jb(r.ib),u.Jb(P.b),u.Jb(m.b),u.Jb(h.a),u.Jb(y.a),u.Jb(b.g),u.Jb(r.eb))},t.\u0275cmp=u.Db({type:t,selectors:[["app-order-detail-action"]],decls:2,vars:2,consts:[["class","ion-no-padding",4,"ngIf"],[1,"ion-no-padding"],["button","","lines","none","color","tertiary",3,"click"],["slot","start","ios","airplane-outline","md","airplane-sharp"],["button","","lines","none","color","tertiary",3,"click",4,"ngIf"],["slot","start","ios","card-outline","md","card-sharp"],["lines","none","color","tertiary"],["slot","start"],["animated",""],["animated","",2,"width","50%"]],template:function(t,o){1&t&&(u.tc(0,f,6,1,"ion-list",0),u.tc(1,v,11,0,"ion-list",0)),2&t&&(u.gc("ngIf",!o.isLoading),u.yb(1),u.gc("ngIf",o.isLoading))},directives:[i.k,r.C,r.x,r.u,r.B,r.d,r.S],styles:[""]}),t})();var x=n("zzaN"),w=n("Dvla");function C(t,o){if(1&t){const t=u.Qb();u.Pb(0,"ion-content"),u.Pb(1,"ion-grid"),u.Pb(2,"ion-row"),u.Pb(3,"ion-col",7),u.Pb(4,"ion-item"),u.Pb(5,"ion-label",8),u.Pb(6,"ion-text",9),u.Pb(7,"small"),u.vc(8,"Sifari\u015f n\xf6mr\u0259si"),u.Ob(),u.Ob(),u.Pb(9,"p"),u.Pb(10,"strong"),u.vc(11),u.Ob(),u.Ob(),u.Ob(),u.Pb(12,"ion-buttons",3),u.Pb(13,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.id.toString())})),u.Kb(14,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(15,"ion-col",7),u.Pb(16,"ion-item"),u.Pb(17,"ion-label",8),u.Pb(18,"ion-text",9),u.Pb(19,"small"),u.vc(20,"Natamam m\u0259bl\u0259\u011f"),u.Ob(),u.Ob(),u.Pb(21,"p"),u.Pb(22,"strong"),u.vc(23),u.ac(24,"currency"),u.Ob(),u.Ob(),u.Ob(),u.Pb(25,"ion-buttons",3),u.Pb(26,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.missing_fee.toString())})),u.Kb(27,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(28,"ion-col",7),u.Pb(29,"ion-item"),u.Pb(30,"ion-label",8),u.Pb(31,"ion-text",9),u.Pb(32,"small"),u.vc(33,"\xd6l\xe7\xfc"),u.Ob(),u.Ob(),u.Pb(34,"p"),u.Pb(35,"strong"),u.vc(36),u.Ob(),u.Ob(),u.Ob(),u.Pb(37,"ion-buttons",3),u.Pb(38,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.size)})),u.Kb(39,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(40,"ion-col",7),u.Pb(41,"ion-item"),u.Pb(42,"ion-label",8),u.Pb(43,"ion-text",9),u.Pb(44,"small"),u.vc(45,"R\u0259ng"),u.Ob(),u.Ob(),u.Pb(46,"p"),u.Pb(47,"strong"),u.vc(48),u.Ob(),u.Ob(),u.Ob(),u.Pb(49,"ion-buttons",3),u.Pb(50,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.color)})),u.Kb(51,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(52,"ion-col",7),u.Pb(53,"ion-item"),u.Pb(54,"ion-label",8),u.Pb(55,"ion-text",9),u.Pb(56,"small"),u.vc(57,"Link"),u.Ob(),u.Ob(),u.Pb(58,"p"),u.Pb(59,"strong"),u.vc(60,"Link \xfc\xe7\xfcn sa\u011fdak\u0131 d\xfcym\u0259ni s\u0131x\u0131n."),u.Ob(),u.Ob(),u.Ob(),u.Pb(61,"ion-buttons",3),u.Pb(62,"ion-button",11),u.Kb(63,"ion-icon",10),u.Ob(),u.Pb(64,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.url)})),u.Kb(65,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(66,"ion-col",7),u.Pb(67,"ion-item"),u.Pb(68,"ion-label",8),u.Pb(69,"ion-text",9),u.Pb(70,"small"),u.vc(71,"Tarix"),u.Ob(),u.Ob(),u.Pb(72,"p"),u.Pb(73,"strong"),u.vc(74),u.ac(75,"date"),u.Ob(),u.Ob(),u.Ob(),u.Pb(76,"ion-buttons",3),u.Pb(77,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.created_date.toString())})),u.Kb(78,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(79,"ion-col",7),u.Pb(80,"ion-item"),u.Pb(81,"ion-label",8),u.Pb(82,"ion-text",9),u.Pb(83,"small"),u.vc(84,"Qiym\u0259t"),u.Ob(),u.Ob(),u.Pb(85,"p"),u.Pb(86,"strong"),u.vc(87),u.ac(88,"currency"),u.Ob(),u.Ob(),u.Ob(),u.Pb(89,"ion-buttons",3),u.Pb(90,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.price.toString())})),u.Kb(91,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(92,"ion-col",7),u.Pb(93,"ion-item"),u.Pb(94,"ion-label",8),u.Pb(95,"ion-text",9),u.Pb(96,"small"),u.vc(97,"Daxili kargo"),u.Ob(),u.Ob(),u.Pb(98,"p"),u.Pb(99,"strong"),u.vc(100),u.ac(101,"currency"),u.Ob(),u.Ob(),u.Ob(),u.Pb(102,"ion-buttons",3),u.Pb(103,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.courier_cost.toString())})),u.Kb(104,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(105,"ion-col",7),u.Pb(106,"ion-item"),u.Pb(107,"ion-label",8),u.Pb(108,"ion-text",9),u.Pb(109,"small"),u.vc(110,"Bank x\u0259rci"),u.Ob(),u.Ob(),u.Pb(111,"p"),u.Pb(112,"strong"),u.vc(113),u.ac(114,"percent"),u.Ob(),u.Ob(),u.Ob(),u.Pb(115,"ion-buttons",3),u.Pb(116,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.percentage.toString())})),u.Kb(117,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(118,"ion-col",7),u.Pb(119,"ion-item"),u.Pb(120,"ion-label",8),u.Pb(121,"ion-text",9),u.Pb(122,"small"),u.vc(123,"\u018flav\u0259 qeydl\u0259r"),u.Ob(),u.Ob(),u.Pb(124,"p"),u.Pb(125,"strong"),u.vc(126),u.Ob(),u.Ob(),u.Ob(),u.Pb(127,"ion-buttons",3),u.Pb(128,"ion-button",4),u.Xb("click",(function(){u.oc(t);const o=u.Zb();return o.copy(o.order.description.toString())})),u.Kb(129,"ion-icon",10),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()}if(2&t){const t=u.Zb();u.yb(11),u.wc(t.order.id),u.yb(3),u.gc("ios","copy-outline")("md","copy-sharp"),u.yb(9),u.wc(u.cc(24,32,t.order.missing_fee,"\u20ba")),u.yb(4),u.gc("ios","copy-outline")("md","copy-sharp"),u.yb(9),u.wc(t.order.size),u.yb(3),u.gc("ios","copy-outline")("md","copy-sharp"),u.yb(9),u.wc(t.order.color),u.yb(3),u.gc("ios","copy-outline")("md","copy-sharp"),u.yb(11),u.hc("href",t.order.url),u.yb(1),u.gc("ios","link-outline")("md","link-sharp"),u.yb(2),u.gc("ios","copy-outline")("md","copy-sharp"),u.yb(9),u.wc(u.dc(75,35,t.order.created_date,"mediumDate","+4","az-Latn")),u.yb(4),u.gc("ios","copy-outline")("md","copy-sharp"),u.yb(9),u.wc(u.cc(88,40,t.order.price,"\u20ba")),u.yb(4),u.gc("ios","copy-outline")("md","copy-sharp"),u.yb(9),u.wc(u.cc(101,43,t.order.courier_cost,"\u20ba")),u.yb(4),u.gc("ios","copy-outline")("md","copy-sharp"),u.yb(9),u.wc(u.bc(114,46,t.order.percentage)),u.yb(4),u.gc("ios","copy-outline")("md","copy-sharp"),u.yb(9),u.wc(t.order.description),u.yb(3),u.gc("ios","copy-outline")("md","copy-sharp")}}function J(t,o){1&t&&(u.Pb(0,"ion-content"),u.Pb(1,"ion-grid",12),u.Pb(2,"ion-row",13),u.Pb(3,"ion-col",14),u.Kb(4,"ion-img",15),u.Ob(),u.Ob(),u.Ob(),u.Ob())}const K=[{path:"",component:(()=>{class t{constructor(t,o,n,i,e,r,b,s,a,l){this.route=t,this.clipboard=o,this.toaster=n,this.clipboardService=i,this.platform=e,this.popoverController=r,this.alertCtrl=b,this.helper=s,this.modalController=a,this.storage=l,this.isLoading=!1,this.order=new c.a}ionViewWillEnter(){this.getOrder()}ngOnInit(){}copy(t){this.platform.is("mobile")&&!this.platform.is("mobileweb")?this.clipboard.copy(t):this.clipboardService.copyFromContent(t),this.toaster.success("M\u0259tn kopyaland\u0131!")}getOrder(){this.isLoading=!0,this.storage.get("user").then(t=>{this.order=t.orders.filter(t=>t.id===Number(this.route.snapshot.paramMap.get("order_id")))[0],this.isLoading=!1})}presentPopover(t){return Object(s.a)(this,void 0,void 0,(function*(){const o=yield this.popoverController.create({component:k,componentProps:{order:this.order},cssClass:"my-custom-class",event:t,translucent:!0});return yield o.present()}))}presentTrackingModal(){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:a.a,swipeToClose:!0,componentProps:{states:this.order.states}});return yield t.present()}))}}return t.\u0275fac=function(o){return new(o||t)(u.Jb(b.a),u.Jb(x.a),u.Jb(y.a),u.Jb(w.b),u.Jb(r.hb),u.Jb(r.ib),u.Jb(r.a),u.Jb(m.b),u.Jb(r.eb),u.Jb(P.b))},t.\u0275cmp=u.Db({type:t,selectors:[["app-order-detail"]],decls:11,vars:3,consts:[["color","tertiary"],["slot","start"],["text","","defaultHref","/dashboard/orders"],["slot","end"],[3,"click"],["slot","icon-only","md","ellipsis-vertical-sharp","ios","ellipsis-vertical-outline"],[4,"ngIf"],["size-md","6","size","12"],[1,"ion-text-wrap"],["color","primary"],["color","medium",3,"ios","md"],["target","_blank",3,"href"],[2,"height","100%"],[1,"ion-justify-content-center","ion-align-items-center",2,"height","100%"],[1,"ion-text-center",2,"display","flex","justify-content","center","align-items","center"],["src","../assets/img/loading.gif",2,"width","100px","height","100px"]],template:function(t,o){1&t&&(u.Pb(0,"ion-header"),u.Pb(1,"ion-toolbar",0),u.Pb(2,"ion-buttons",1),u.Kb(3,"ion-back-button",2),u.Ob(),u.Pb(4,"ion-title"),u.vc(5),u.Ob(),u.Pb(6,"ion-buttons",3),u.Pb(7,"ion-button",4),u.Xb("click",(function(t){return o.presentPopover(t)})),u.Kb(8,"ion-icon",5),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.tc(9,C,130,48,"ion-content",6),u.tc(10,J,5,0,"ion-content",6)),2&t&&(u.yb(5),u.xc("Sifari\u015f #",o.order.id,""),u.yb(4),u.gc("ngIf",!o.isLoading),u.yb(1),u.gc("ngIf",o.isLoading))},directives:[r.t,r.ab,r.h,r.e,r.f,r.Z,r.g,r.u,i.k,r.p,r.s,r.M,r.o,r.x,r.B,r.W,r.v],pipes:[i.c,i.e,i.p],styles:[""]}),t})()}];let S=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(o){return new(o||t)},imports:[[b.j.forChild(K)],b.j]}),t})(),X=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(o){return new(o||t)},imports:[[i.b,e.a,r.bb,S]]}),t})()}}]);