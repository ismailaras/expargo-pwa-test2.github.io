(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{zDhT:function(e,n,i){"use strict";i.r(n),i.d(n,"PasswordRecoveryPageModule",(function(){return P}));var t=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),r=i("tyNb"),a=i("fXoL"),c=i("lGQG"),b=i("Ymxs"),d=i("z+xu");const l=["cd"];function g(e,n){if(1&e){const e=a.Qb();a.Pb(0,"ion-item",16),a.Pb(1,"ion-label",17),a.tc(2," E-mail "),a.Ob(),a.Pb(3,"ion-input",18),a.Xb("ngModelChange",(function(n){return a.nc(e),a.Zb().email_address=n})),a.Ob(),a.Kb(4,"ion-icon",19),a.Ob()}if(2&e){const e=a.Zb();a.zb(3),a.gc("ngModel",e.email_address),a.zb(1),a.gc("ios","person-circle-outline")("md","person-circle-sharp")}}function m(e,n){1&e&&(a.Pb(0,"ion-item",20),a.Pb(1,"p"),a.tc(2," Email \xfcnvan\u0131n\u0131za g\xf6nd\u0259ril\u0259n kodu g\xf6st\u0259ril\u0259n vaxt \u0259rzind\u0259 xanaya daxil edib t\u0259sdiql\u0259 d\xfcym\u0259sini s\u0131x\u0131n. "),a.Ob(),a.Ob())}const u=function(){return{leftTime:300,format:"m:s",demand:!1}};function f(e,n){if(1&e){const e=a.Qb();a.Pb(0,"ion-item",16),a.Pb(1,"ion-label",17),a.Pb(2,"countdown",21,22),a.Xb("event",(function(n){return a.nc(e),a.Zb().handleEvent(n)})),a.Ob(),a.Ob(),a.Pb(4,"ion-input",23),a.Xb("ngModelChange",(function(n){return a.nc(e),a.Zb().recoveryCode=n})),a.Ob(),a.Ob()}if(2&e){const e=a.Zb();a.zb(2),a.gc("config",a.ic(2,u)),a.zb(2),a.gc("ngModel",e.recoveryCode)}}function p(e,n){if(1&e){const e=a.Qb();a.Pb(0,"ion-item",16),a.Pb(1,"ion-label",17),a.tc(2," \u015eifr\u0259 "),a.Ob(),a.Pb(3,"ion-input",24),a.Xb("ngModelChange",(function(n){return a.nc(e),a.Zb().password=n})),a.Ob(),a.Pb(4,"ion-icon",25),a.Xb("click",(function(){return a.nc(e),a.Zb().togglePassword()})),a.Ob(),a.Ob()}if(2&e){const e=a.Zb();a.zb(3),a.gc("ngModel",e.password)("type",e.passwordType),a.zb(1),a.gc("ios",e.toggled?"eye-outline":"eye-off-outline")("md",e.toggled?"eye-sharp":"eye-off-sharp")}}function h(e,n){if(1&e){const e=a.Qb();a.Pb(0,"ion-item",16),a.Pb(1,"ion-label",17),a.tc(2," T\u0259krar \u015fifr\u0259 "),a.Ob(),a.Pb(3,"ion-input",26),a.Xb("ngModelChange",(function(n){return a.nc(e),a.Zb().confirm=n})),a.Ob(),a.Pb(4,"ion-icon",25),a.Xb("click",(function(){return a.nc(e),a.Zb().toggleConfirm()})),a.Ob(),a.Ob()}if(2&e){const e=a.Zb();a.zb(3),a.gc("ngModel",e.confirm)("type",e.confirmType),a.zb(1),a.gc("ios",e.toggledConfirm?"eye-outline":"eye-off-outline")("md",e.toggledConfirm?"eye-sharp":"eye-off-sharp")}}function y(e,n){if(1&e){const e=a.Qb();a.Pb(0,"ion-button",27),a.Xb("click",(function(){return a.nc(e),a.Zb().reSendActivate()})),a.tc(1," T\u0259krar g\xf6nd\u0259r "),a.Ob()}}const w=[{path:"",component:(()=>{class e{constructor(e,n,i,t,o){this.authService=e,this.toasterService=n,this.alertCtrl=i,this.router=t,this.loadingCtrl=o,this.isWaiting=!1,this.isDone=!1,this.accepted=!1,this.passwordType="password",this.confirmType="password",this.toggledConfirm=!0,this.toggled=!0}ngOnInit(){}passwordRecovery(e){if(this.isWaiting)return void(this.recoveryCodeOld===this.recoveryCode?(this.accepted&&this.loadingCtrl.create({keyboardClose:!0,message:"G\xf6zl\u0259yin..."}).then(e=>{e.present(),this.authService.passwordRecoveryLast({email_address:this.email_address,password:this.password}).subscribe(n=>{e.dismiss(),this.router.navigateByUrl("/auth/signin"),this.toasterService.success("\u015eifr\u0259 yenil\u0259ndi.")},n=>{e.dismiss(),this.showAlert("Buna s\u0259b\u0259b bu e-mail \xfcnvanda h\u0259r-hans\u0131 bir istifad\u0259\xe7i tap\u0131lmamas\u0131 olar bil\u0259r.")})}),this.accepted=!0):this.showAlert("Daxil edil\u0259n yenil\u0259m\u0259 kodu d\xfczg\xfcn deyil."));const n=Math.floor(8e5*Math.random())+1e5;this.loadingCtrl.create({keyboardClose:!0,message:"G\xf6zl\u0259yin..."}).then(e=>{e.present(),this.authService.passwordRecovery({email_address:this.email_address,recovery_code:n}).subscribe(i=>{e.dismiss(),this.toasterService.success("Email \xfcnvan\u0131n\u0131z\u0131 yoxlay\u0131n."),this.recoveryCodeOld=n,this.isWaiting=!0},n=>{e.dismiss(),this.showAlert("Buna s\u0259b\u0259b bu e-mail \xfcnvanda h\u0259r-hans\u0131 bir istifad\u0259\xe7i tap\u0131lmamas\u0131 olar bil\u0259r.")})})}showAlert(e){this.alertCtrl.create({header:"X\u0259ta a\u015fkarland\u0131",message:e,buttons:["Tamam"]}).then(e=>e.present())}reSendActivate(){this.isDone=!1,this.isWaiting=!1}handleEvent(e){"done"===e.action&&(this.isDone=!0,this.isWaiting=!1)}toggleConfirm(){this.toggledConfirm=!this.toggledConfirm,this.confirmType=this.toggledConfirm?"password":"text"}togglePassword(){this.toggled=!this.toggled,this.passwordType=this.toggled?"password":"text"}}return e.\u0275fac=function(n){return new(n||e)(a.Jb(c.a),a.Jb(b.a),a.Jb(s.a),a.Jb(r.g),a.Jb(s.ab))},e.\u0275cmp=a.Db({type:e,selectors:[["app-password-recovery"]],viewQuery:function(e,n){var i;1&e&&a.yc(l,!0),2&e&&a.kc(i=a.Yb())&&(n.countdown=i.first)},decls:26,vars:9,consts:[[3,"translucent"],["color","tertiary"],["slot","start"],["text","","defaultHref","auth/signin"],[2,"height","100%"],[1,"ion-justify-content-center","ion-align-items-center",2,"height","100%"],["size","12","size-md","6","size-lg","5","size-xl","4"],[1,"centered","ion-margin-bottom"],[2,"width","110px",3,"src"],["color","primary",1,"ion-text-capitalize","centered"],[3,"ngSubmit"],["passwordRecoveryForm","ngForm"],["class","ion-margin",4,"ngIf"],["class","ion-margin ion-text-wrap",4,"ngIf"],["type","submit","shape","round","expand","block","color","tertiary",1,"ion-margin",3,"disabled"],["class","ion-margin","type","submit","fill","clear","expand","block","color","tertiary",3,"click",4,"ngIf"],[1,"ion-margin"],["position","fixed"],["inputmode","email","required","","name","email_address","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","type","email",3,"ngModel","ngModelChange"],["slot","end",3,"ios","md"],[1,"ion-margin","ion-text-wrap"],[3,"config","event"],["cd",""],["inputmode","number","required","","name","recoveryCode","placeholder","000000","type","number",3,"ngModel","ngModelChange"],["inputmode","text","required","","name","password",3,"ngModel","type","ngModelChange"],["slot","end",3,"ios","md","click"],["inputmode","text","required","","name","confirm",3,"ngModel","type","ngModelChange"],["type","submit","fill","clear","expand","block","color","tertiary",1,"ion-margin",3,"click"]],template:function(e,n){if(1&e){const e=a.Qb();a.Pb(0,"ion-header",0),a.Pb(1,"ion-toolbar",1),a.Pb(2,"ion-buttons",2),a.Kb(3,"ion-back-button",3),a.Ob(),a.Pb(4,"ion-title"),a.tc(5,"\u015eifr\u0259nin b\u0259rpas\u0131"),a.Ob(),a.Ob(),a.Ob(),a.Pb(6,"ion-content"),a.Pb(7,"ion-grid",4),a.Pb(8,"ion-row",5),a.Pb(9,"ion-col",6),a.Pb(10,"div",7),a.Kb(11,"ion-img",8),a.Ob(),a.Pb(12,"ion-text",9),a.Pb(13,"h3"),a.Pb(14,"strong"),a.tc(15,"\u015eifr\u0259nin b\u0259rpas\u0131"),a.Ob(),a.Ob(),a.Ob(),a.Pb(16,"form",10,11),a.Xb("ngSubmit",(function(){a.nc(e);const i=a.lc(17);return n.passwordRecovery(i)})),a.rc(18,g,5,3,"ion-item",12),a.rc(19,m,3,0,"ion-item",13),a.rc(20,f,5,3,"ion-item",12),a.rc(21,p,5,4,"ion-item",12),a.rc(22,h,5,4,"ion-item",12),a.Pb(23,"ion-button",14),a.tc(24," T\u018fSD\u0130QL\u018f "),a.Ob(),a.rc(25,y,2,0,"ion-button",15),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=a.lc(17);a.gc("translucent",!1),a.zb(11),a.gc("src","/assets/img/expargo_circle.svg"),a.zb(7),a.gc("ngIf",!n.isWaiting&&!n.accepted),a.zb(1),a.gc("ngIf",n.isWaiting&&!n.accepted),a.zb(1),a.gc("ngIf",n.isWaiting&&!n.isDone&&!n.accepted),a.zb(1),a.gc("ngIf",n.accepted),a.zb(1),a.gc("ngIf",n.accepted),a.zb(1),a.gc("disabled",e.invalid||n.isDone||n.confirm!==n.password),a.zb(2),a.gc("ngIf",n.isDone&&!n.accepted)}},directives:[s.s,s.X,s.g,s.d,s.e,s.W,s.o,s.r,s.K,s.n,s.u,s.U,o.m,o.g,o.h,t.k,s.f,s.w,s.A,s.v,s.ib,o.l,o.j,o.f,o.i,s.t,d.a,s.db],styles:[".centered[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-left:0}"]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(n){return new(n||e)},imports:[[r.j.forChild(w)],r.j]}),e})(),P=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(n){return new(n||e)},imports:[[t.b,o.a,s.Y,v,d.b]]}),e})()}}]);