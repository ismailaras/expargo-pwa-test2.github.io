function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,i){return n&&_defineProperties(e.prototype,n),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{zDhT:function(e,n,i){"use strict";i.r(n),i.d(n,"PasswordRecoveryPageModule",(function(){return k}));var t=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),s=i("fXoL"),c=i("lGQG"),l=i("Ymxs"),b=i("z+xu"),d=["cd"];function g(e,n){if(1&e){var i=s.Qb();s.Pb(0,"ion-item",16),s.Pb(1,"ion-label",17),s.tc(2," E-mail "),s.Ob(),s.Pb(3,"ion-input",18),s.Xb("ngModelChange",(function(e){return s.nc(i),s.Zb().email_address=e})),s.Ob(),s.Kb(4,"ion-icon",19),s.Ob()}if(2&e){var t=s.Zb();s.zb(3),s.gc("ngModel",t.email_address),s.zb(1),s.gc("ios","person-circle-outline")("md","person-circle-sharp")}}function u(e,n){1&e&&(s.Pb(0,"ion-item",20),s.Pb(1,"p"),s.tc(2," Email \xfcnvan\u0131n\u0131za g\xf6nd\u0259ril\u0259n kodu g\xf6st\u0259ril\u0259n vaxt \u0259rzind\u0259 xanaya daxil edib t\u0259sdiql\u0259 d\xfcym\u0259sini s\u0131x\u0131n. "),s.Ob(),s.Ob())}var f=function(){return{leftTime:300,format:"m:s",demand:!1}};function m(e,n){if(1&e){var i=s.Qb();s.Pb(0,"ion-item",16),s.Pb(1,"ion-label",17),s.Pb(2,"countdown",21,22),s.Xb("event",(function(e){return s.nc(i),s.Zb().handleEvent(e)})),s.Ob(),s.Ob(),s.Pb(4,"ion-input",23),s.Xb("ngModelChange",(function(e){return s.nc(i),s.Zb().recoveryCode=e})),s.Ob(),s.Ob()}if(2&e){var t=s.Zb();s.zb(2),s.gc("config",s.ic(2,f)),s.zb(2),s.gc("ngModel",t.recoveryCode)}}function p(e,n){if(1&e){var i=s.Qb();s.Pb(0,"ion-item",16),s.Pb(1,"ion-label",17),s.tc(2," \u015eifr\u0259 "),s.Ob(),s.Pb(3,"ion-input",24),s.Xb("ngModelChange",(function(e){return s.nc(i),s.Zb().password=e})),s.Ob(),s.Pb(4,"ion-icon",25),s.Xb("click",(function(){return s.nc(i),s.Zb().togglePassword()})),s.Ob(),s.Ob()}if(2&e){var t=s.Zb();s.zb(3),s.gc("ngModel",t.password)("type",t.passwordType),s.zb(1),s.gc("ios",t.toggled?"eye-outline":"eye-off-outline")("md",t.toggled?"eye-sharp":"eye-off-sharp")}}function h(e,n){if(1&e){var i=s.Qb();s.Pb(0,"ion-item",16),s.Pb(1,"ion-label",17),s.tc(2," T\u0259krar \u015fifr\u0259 "),s.Ob(),s.Pb(3,"ion-input",26),s.Xb("ngModelChange",(function(e){return s.nc(i),s.Zb().confirm=e})),s.Ob(),s.Pb(4,"ion-icon",25),s.Xb("click",(function(){return s.nc(i),s.Zb().toggleConfirm()})),s.Ob(),s.Ob()}if(2&e){var t=s.Zb();s.zb(3),s.gc("ngModel",t.confirm)("type",t.confirmType),s.zb(1),s.gc("ios",t.toggledConfirm?"eye-outline":"eye-off-outline")("md",t.toggledConfirm?"eye-sharp":"eye-off-sharp")}}function y(e,n){if(1&e){var i=s.Qb();s.Pb(0,"ion-button",27),s.Xb("click",(function(){return s.nc(i),s.Zb().reSendActivate()})),s.tc(1," T\u0259krar g\xf6nd\u0259r "),s.Ob()}}var v,w,C,P=[{path:"",component:(v=function(){function e(n,i,t,o,r){_classCallCheck(this,e),this.authService=n,this.toasterService=i,this.alertCtrl=t,this.router=o,this.loadingCtrl=r,this.isWaiting=!1,this.isDone=!1,this.accepted=!1,this.passwordType="password",this.confirmType="password",this.toggledConfirm=!0,this.toggled=!0}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"passwordRecovery",value:function(e){var n=this;if(this.isWaiting)this.recoveryCodeOld===this.recoveryCode?(this.accepted&&this.loadingCtrl.create({keyboardClose:!0,message:"G\xf6zl\u0259yin..."}).then((function(e){e.present(),n.authService.passwordRecoveryLast({email_address:n.email_address,password:n.password}).subscribe((function(i){e.dismiss(),n.router.navigateByUrl("/auth/signin"),n.toasterService.success("\u015eifr\u0259 yenil\u0259ndi.")}),(function(i){e.dismiss(),n.showAlert("Buna s\u0259b\u0259b bu e-mail \xfcnvanda h\u0259r-hans\u0131 bir istifad\u0259\xe7i tap\u0131lmamas\u0131 olar bil\u0259r.")}))})),this.accepted=!0):this.showAlert("Daxil edil\u0259n yenil\u0259m\u0259 kodu d\xfczg\xfcn deyil.");else{var i=Math.floor(8e5*Math.random())+1e5;this.loadingCtrl.create({keyboardClose:!0,message:"G\xf6zl\u0259yin..."}).then((function(e){e.present(),n.authService.passwordRecovery({email_address:n.email_address,recovery_code:i}).subscribe((function(t){e.dismiss(),n.toasterService.success("Email \xfcnvan\u0131n\u0131z\u0131 yoxlay\u0131n."),n.recoveryCodeOld=i,n.isWaiting=!0}),(function(i){e.dismiss(),n.showAlert("Buna s\u0259b\u0259b bu e-mail \xfcnvanda h\u0259r-hans\u0131 bir istifad\u0259\xe7i tap\u0131lmamas\u0131 olar bil\u0259r.")}))}))}}},{key:"showAlert",value:function(e){this.alertCtrl.create({header:"X\u0259ta a\u015fkarland\u0131",message:e,buttons:["Tamam"]}).then((function(e){return e.present()}))}},{key:"reSendActivate",value:function(){this.isDone=!1,this.isWaiting=!1}},{key:"handleEvent",value:function(e){"done"===e.action&&(this.isDone=!0,this.isWaiting=!1)}},{key:"toggleConfirm",value:function(){this.toggledConfirm=!this.toggledConfirm,this.confirmType=this.toggledConfirm?"password":"text"}},{key:"togglePassword",value:function(){this.toggled=!this.toggled,this.passwordType=this.toggled?"password":"text"}}]),e}(),v.\u0275fac=function(e){return new(e||v)(s.Jb(c.a),s.Jb(l.a),s.Jb(r.a),s.Jb(a.g),s.Jb(r.ab))},v.\u0275cmp=s.Db({type:v,selectors:[["app-password-recovery"]],viewQuery:function(e,n){var i;1&e&&s.yc(d,!0),2&e&&s.kc(i=s.Yb())&&(n.countdown=i.first)},decls:26,vars:9,consts:[[3,"translucent"],["color","tertiary"],["slot","start"],["text","","defaultHref","auth/signin"],[2,"height","100%"],[1,"ion-justify-content-center","ion-align-items-center",2,"height","100%"],["size","12","size-md","6","size-lg","5","size-xl","4"],[1,"centered","ion-margin-bottom"],[2,"width","110px",3,"src"],["color","primary",1,"ion-text-capitalize","centered"],[3,"ngSubmit"],["passwordRecoveryForm","ngForm"],["class","ion-margin",4,"ngIf"],["class","ion-margin ion-text-wrap",4,"ngIf"],["type","submit","shape","round","expand","block","color","tertiary",1,"ion-margin",3,"disabled"],["class","ion-margin","type","submit","fill","clear","expand","block","color","tertiary",3,"click",4,"ngIf"],[1,"ion-margin"],["position","fixed"],["inputmode","email","required","","name","email_address","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","type","email",3,"ngModel","ngModelChange"],["slot","end",3,"ios","md"],[1,"ion-margin","ion-text-wrap"],[3,"config","event"],["cd",""],["inputmode","number","required","","name","recoveryCode","placeholder","000000","type","number",3,"ngModel","ngModelChange"],["inputmode","text","required","","name","password",3,"ngModel","type","ngModelChange"],["slot","end",3,"ios","md","click"],["inputmode","text","required","","name","confirm",3,"ngModel","type","ngModelChange"],["type","submit","fill","clear","expand","block","color","tertiary",1,"ion-margin",3,"click"]],template:function(e,n){if(1&e){var i=s.Qb();s.Pb(0,"ion-header",0),s.Pb(1,"ion-toolbar",1),s.Pb(2,"ion-buttons",2),s.Kb(3,"ion-back-button",3),s.Ob(),s.Pb(4,"ion-title"),s.tc(5,"\u015eifr\u0259nin b\u0259rpas\u0131"),s.Ob(),s.Ob(),s.Ob(),s.Pb(6,"ion-content"),s.Pb(7,"ion-grid",4),s.Pb(8,"ion-row",5),s.Pb(9,"ion-col",6),s.Pb(10,"div",7),s.Kb(11,"ion-img",8),s.Ob(),s.Pb(12,"ion-text",9),s.Pb(13,"h3"),s.Pb(14,"strong"),s.tc(15,"\u015eifr\u0259nin b\u0259rpas\u0131"),s.Ob(),s.Ob(),s.Ob(),s.Pb(16,"form",10,11),s.Xb("ngSubmit",(function(){s.nc(i);var e=s.lc(17);return n.passwordRecovery(e)})),s.rc(18,g,5,3,"ion-item",12),s.rc(19,u,3,0,"ion-item",13),s.rc(20,m,5,3,"ion-item",12),s.rc(21,p,5,4,"ion-item",12),s.rc(22,h,5,4,"ion-item",12),s.Pb(23,"ion-button",14),s.tc(24," T\u018fSD\u0130QL\u018f "),s.Ob(),s.rc(25,y,2,0,"ion-button",15),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()}if(2&e){var t=s.lc(17);s.gc("translucent",!1),s.zb(11),s.gc("src","https://ismailaras.github.io/expargo-pwa-test2.github.io/assets/img/expargo_circle.svg"),s.zb(7),s.gc("ngIf",!n.isWaiting&&!n.accepted),s.zb(1),s.gc("ngIf",n.isWaiting&&!n.accepted),s.zb(1),s.gc("ngIf",n.isWaiting&&!n.isDone&&!n.accepted),s.zb(1),s.gc("ngIf",n.accepted),s.zb(1),s.gc("ngIf",n.accepted),s.zb(1),s.gc("disabled",t.invalid||n.isDone||n.confirm!==n.password),s.zb(2),s.gc("ngIf",n.isDone&&!n.accepted)}},directives:[r.s,r.X,r.g,r.d,r.e,r.W,r.o,r.r,r.K,r.n,r.u,r.U,o.m,o.g,o.h,t.k,r.f,r.w,r.A,r.v,r.ib,o.l,o.j,o.f,o.i,r.t,b.a,r.db],styles:[".centered[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-left:0}"]}),v)}],O=((C=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:C}),C.\u0275inj=s.Gb({factory:function(e){return new(e||C)},imports:[[a.j.forChild(P)],a.j]}),C),k=((w=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:w}),w.\u0275inj=s.Gb({factory:function(e){return new(e||w)},imports:[[t.b,o.a,r.Y,O,b.b]]}),w)}}]);