function _defineProperties(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6,31],{"1Aj9":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var o=function t(){_classCallCheck(this,t)}},arML:function(t,n,e){"use strict";e.r(n),e.d(n,"OrderDetailPageModule",(function(){return L}));var o=e("ofXK"),r=e("3Pt+"),i=e("TEn/"),b=e("tyNb"),c=e("mrSG"),a=e("1Aj9"),s=e("GaRv"),l=e("AxNX"),u=e("Mky/"),d=e("y+FX"),p=e("fXoL"),m=e("kVqo"),h=e("e8h1"),P=e("Nm8O"),O=e("qfBg"),f=e("Ymxs");function y(t,n){if(1&t){var e=p.Qb();p.Pb(0,"ion-item",2),p.Xb("click",(function(){return p.oc(e),p.Zb(2).pay()})),p.Kb(1,"ion-icon",5),p.Pb(2,"ion-label"),p.vc(3," \xd6d\u0259ni\u015f et "),p.Ob(),p.Ob()}}function g(t,n){if(1&t){var e=p.Qb();p.Pb(0,"ion-list",1),p.Pb(1,"ion-item",2),p.Xb("click",(function(){return p.oc(e),p.Zb().presentTrackingModal()})),p.Kb(2,"ion-icon",3),p.Pb(3,"ion-label"),p.vc(4," H\u0259r\u0259k\u0259tl\u0259ri izl\u0259 "),p.Ob(),p.Ob(),p.tc(5,y,4,0,"ion-item",4),p.Ob()}if(2&t){var o=p.Zb();p.yb(5),p.gc("ngIf","Incomplete"===o.order.current_state.toString())}}function v(t,n){1&t&&(p.Pb(0,"ion-list",1),p.Pb(1,"ion-item",6),p.Pb(2,"ion-avatar",7),p.Kb(3,"ion-skeleton-text",8),p.Ob(),p.Pb(4,"ion-label"),p.Kb(5,"ion-skeleton-text",9),p.Ob(),p.Ob(),p.Pb(6,"ion-item",6),p.Pb(7,"ion-avatar",7),p.Kb(8,"ion-skeleton-text",8),p.Ob(),p.Pb(9,"ion-label"),p.Kb(10,"ion-skeleton-text",9),p.Ob(),p.Ob(),p.Ob())}var k,x=((k=function(){function t(n,e,o,r,i,b,c,a,s,l){_classCallCheck(this,t),this.navParams=n,this.orderService=e,this.alertCtrl=o,this.popoverController=r,this.storage=i,this.helper=b,this.userService=c,this.toaster=a,this.router=s,this.modalController=l,this.user=new u.a,this.isLoading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.order=this.navParams.data.order,this.getUser()}},{key:"presentTrackingModal",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:s.a,swipeToClose:!0,componentProps:{states:this.order.states}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"showAlert",value:function(t){this.alertCtrl.create({header:"X\u0259ta a\u015fkarland\u0131",message:t,buttons:["Tamam"]}).then((function(t){return t.present()}))}},{key:"presentCheckoutModal",value:function(t,n){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:l.a,swipeToClose:!0,cssClass:"checkoutModal",componentProps:{amount:t,currency:n}});case 2:return o=e.sent,e.next=5,o.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"showConfirm",value:function(t){var n=this;this.alertCtrl.create({header:"\xd6d\u0259ni\u015f et",message:t,buttons:[{text:"L\u0259v\u011f et",role:"cancel"},{text:"Balans art\u0131r",handler:function(){n.presentCheckoutModal(n.order.missing_fee,"TRY").then((function(t){return console.log(t)}))}},{text:"Tamamla",handler:function(){n.completePayment()}}]}).then((function(t){return t.present()}))}},{key:"getUser",value:function(){var t=this;this.storage.get("user").then((function(n){t.user=n}))}},{key:"pay",value:function(){this.showConfirm("\n                            Hal-haz\u0131rk\u0131 balans: \u20ba".concat(this.user.wallet_try.toFixed(2),"<br>\n                            Natamam m\u0259bl\u0259\u011f: \u20ba").concat(this.order.missing_fee.toFixed(2),"<br>\n                            <hr>\n                            <small>Balans\u0131n\u0131zda kifay\u0259t q\u0259d\u0259r v\u0259sait yoxdursa, z\u0259hm\u0259t olmasa, balans art\u0131r d\xfcym\u0259sini s\u0131x\u0131n.</small>\n                        "))}},{key:"completePayment",value:function(){var t=this;this.orderService.setOrdersToReadyToOrder([this.order],this.order.missing_fee,this.user.id).subscribe((function(n){"User's wallet is not enough for payment."===JSON.parse(n).message?t.toaster.danger("Balans\u0131n\u0131zda kifay\u0259t q\u0259d\u0259r v\u0259sait yoxdur."):(t.toaster.success("\xd6d\u0259ni\u015finiz u\u011furla ba\u015fa \xe7atd\u0131."),t.order.current_state=d.a.ReadyToOrder)}),(function(n){t.showAlert("Bilinm\u0259y\u0259n bir x\u0259ta ba\u015f verdi. Z\u0259hm\u0259t olmasa, daha sonra t\u0259krar yoxlay\u0131n.")}))}}]),t}()).\u0275fac=function(t){return new(t||k)(p.Jb(i.fb),p.Jb(m.a),p.Jb(i.a),p.Jb(i.ib),p.Jb(h.b),p.Jb(P.b),p.Jb(O.a),p.Jb(f.a),p.Jb(b.g),p.Jb(i.eb))},k.\u0275cmp=p.Db({type:k,selectors:[["app-order-detail-action"]],decls:2,vars:2,consts:[["class","ion-no-padding",4,"ngIf"],[1,"ion-no-padding"],["button","","lines","none","color","tertiary",3,"click"],["slot","start","ios","airplane-outline","md","airplane-sharp"],["button","","lines","none","color","tertiary",3,"click",4,"ngIf"],["slot","start","ios","card-outline","md","card-sharp"],["lines","none","color","tertiary"],["slot","start"],["animated",""],["animated","",2,"width","50%"]],template:function(t,n){1&t&&(p.tc(0,g,6,1,"ion-list",0),p.tc(1,v,11,0,"ion-list",0)),2&t&&(p.gc("ngIf",!n.isLoading),p.yb(1),p.gc("ngIf",n.isLoading))},directives:[o.k,i.C,i.x,i.u,i.B,i.d,i.S],styles:[""]}),k),w=e("zzaN"),C=e("Dvla");function _(t,n){if(1&t){var e=p.Qb();p.Pb(0,"ion-content"),p.Pb(1,"ion-grid"),p.Pb(2,"ion-row"),p.Pb(3,"ion-col",7),p.Pb(4,"ion-item"),p.Pb(5,"ion-label",8),p.Pb(6,"ion-text",9),p.Pb(7,"small"),p.vc(8,"Sifari\u015f n\xf6mr\u0259si"),p.Ob(),p.Ob(),p.Pb(9,"p"),p.Pb(10,"strong"),p.vc(11),p.Ob(),p.Ob(),p.Ob(),p.Pb(12,"ion-buttons",3),p.Pb(13,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.id.toString())})),p.Kb(14,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(15,"ion-col",7),p.Pb(16,"ion-item"),p.Pb(17,"ion-label",8),p.Pb(18,"ion-text",9),p.Pb(19,"small"),p.vc(20,"Natamam m\u0259bl\u0259\u011f"),p.Ob(),p.Ob(),p.Pb(21,"p"),p.Pb(22,"strong"),p.vc(23),p.ac(24,"currency"),p.Ob(),p.Ob(),p.Ob(),p.Pb(25,"ion-buttons",3),p.Pb(26,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.missing_fee.toString())})),p.Kb(27,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(28,"ion-col",7),p.Pb(29,"ion-item"),p.Pb(30,"ion-label",8),p.Pb(31,"ion-text",9),p.Pb(32,"small"),p.vc(33,"\xd6l\xe7\xfc"),p.Ob(),p.Ob(),p.Pb(34,"p"),p.Pb(35,"strong"),p.vc(36),p.Ob(),p.Ob(),p.Ob(),p.Pb(37,"ion-buttons",3),p.Pb(38,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.size)})),p.Kb(39,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(40,"ion-col",7),p.Pb(41,"ion-item"),p.Pb(42,"ion-label",8),p.Pb(43,"ion-text",9),p.Pb(44,"small"),p.vc(45,"R\u0259ng"),p.Ob(),p.Ob(),p.Pb(46,"p"),p.Pb(47,"strong"),p.vc(48),p.Ob(),p.Ob(),p.Ob(),p.Pb(49,"ion-buttons",3),p.Pb(50,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.color)})),p.Kb(51,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(52,"ion-col",7),p.Pb(53,"ion-item"),p.Pb(54,"ion-label",8),p.Pb(55,"ion-text",9),p.Pb(56,"small"),p.vc(57,"Link"),p.Ob(),p.Ob(),p.Pb(58,"p"),p.Pb(59,"strong"),p.vc(60,"Link \xfc\xe7\xfcn sa\u011fdak\u0131 d\xfcym\u0259ni s\u0131x\u0131n."),p.Ob(),p.Ob(),p.Ob(),p.Pb(61,"ion-buttons",3),p.Pb(62,"ion-button",11),p.Kb(63,"ion-icon",10),p.Ob(),p.Pb(64,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.url)})),p.Kb(65,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(66,"ion-col",7),p.Pb(67,"ion-item"),p.Pb(68,"ion-label",8),p.Pb(69,"ion-text",9),p.Pb(70,"small"),p.vc(71,"Tarix"),p.Ob(),p.Ob(),p.Pb(72,"p"),p.Pb(73,"strong"),p.vc(74),p.ac(75,"date"),p.Ob(),p.Ob(),p.Ob(),p.Pb(76,"ion-buttons",3),p.Pb(77,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.created_date.toString())})),p.Kb(78,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(79,"ion-col",7),p.Pb(80,"ion-item"),p.Pb(81,"ion-label",8),p.Pb(82,"ion-text",9),p.Pb(83,"small"),p.vc(84,"Qiym\u0259t"),p.Ob(),p.Ob(),p.Pb(85,"p"),p.Pb(86,"strong"),p.vc(87),p.ac(88,"currency"),p.Ob(),p.Ob(),p.Ob(),p.Pb(89,"ion-buttons",3),p.Pb(90,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.price.toString())})),p.Kb(91,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(92,"ion-col",7),p.Pb(93,"ion-item"),p.Pb(94,"ion-label",8),p.Pb(95,"ion-text",9),p.Pb(96,"small"),p.vc(97,"Daxili kargo"),p.Ob(),p.Ob(),p.Pb(98,"p"),p.Pb(99,"strong"),p.vc(100),p.ac(101,"currency"),p.Ob(),p.Ob(),p.Ob(),p.Pb(102,"ion-buttons",3),p.Pb(103,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.courier_cost.toString())})),p.Kb(104,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(105,"ion-col",7),p.Pb(106,"ion-item"),p.Pb(107,"ion-label",8),p.Pb(108,"ion-text",9),p.Pb(109,"small"),p.vc(110,"Bank x\u0259rci"),p.Ob(),p.Ob(),p.Pb(111,"p"),p.Pb(112,"strong"),p.vc(113),p.ac(114,"percent"),p.Ob(),p.Ob(),p.Ob(),p.Pb(115,"ion-buttons",3),p.Pb(116,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.percentage.toString())})),p.Kb(117,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Pb(118,"ion-col",7),p.Pb(119,"ion-item"),p.Pb(120,"ion-label",8),p.Pb(121,"ion-text",9),p.Pb(122,"small"),p.vc(123,"\u018flav\u0259 qeydl\u0259r"),p.Ob(),p.Ob(),p.Pb(124,"p"),p.Pb(125,"strong"),p.vc(126),p.Ob(),p.Ob(),p.Ob(),p.Pb(127,"ion-buttons",3),p.Pb(128,"ion-button",4),p.Xb("click",(function(){p.oc(e);var t=p.Zb();return t.copy(t.order.description.toString())})),p.Kb(129,"ion-icon",10),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob()}if(2&t){var o=p.Zb();p.yb(11),p.wc(o.order.id),p.yb(3),p.gc("ios","copy-outline")("md","copy-sharp"),p.yb(9),p.wc(p.cc(24,32,o.order.missing_fee,"\u20ba")),p.yb(4),p.gc("ios","copy-outline")("md","copy-sharp"),p.yb(9),p.wc(o.order.size),p.yb(3),p.gc("ios","copy-outline")("md","copy-sharp"),p.yb(9),p.wc(o.order.color),p.yb(3),p.gc("ios","copy-outline")("md","copy-sharp"),p.yb(11),p.hc("href",o.order.url),p.yb(1),p.gc("ios","link-outline")("md","link-sharp"),p.yb(2),p.gc("ios","copy-outline")("md","copy-sharp"),p.yb(9),p.wc(p.dc(75,35,o.order.created_date,"mediumDate","+4","az-Latn")),p.yb(4),p.gc("ios","copy-outline")("md","copy-sharp"),p.yb(9),p.wc(p.cc(88,40,o.order.price,"\u20ba")),p.yb(4),p.gc("ios","copy-outline")("md","copy-sharp"),p.yb(9),p.wc(p.cc(101,43,o.order.courier_cost,"\u20ba")),p.yb(4),p.gc("ios","copy-outline")("md","copy-sharp"),p.yb(9),p.wc(p.bc(114,46,o.order.percentage)),p.yb(4),p.gc("ios","copy-outline")("md","copy-sharp"),p.yb(9),p.wc(o.order.description),p.yb(3),p.gc("ios","copy-outline")("md","copy-sharp")}}function J(t,n){1&t&&(p.Pb(0,"ion-content"),p.Pb(1,"ion-grid",12),p.Pb(2,"ion-row",13),p.Pb(3,"ion-col",14),p.Kb(4,"ion-img",15),p.Ob(),p.Ob(),p.Ob(),p.Ob())}var K,S,X,Z=[{path:"",component:(K=function(){function t(n,e,o,r,i,b,c,s,l,u){_classCallCheck(this,t),this.route=n,this.clipboard=e,this.toaster=o,this.clipboardService=r,this.platform=i,this.popoverController=b,this.alertCtrl=c,this.helper=s,this.modalController=l,this.storage=u,this.isLoading=!1,this.order=new a.a}return _createClass(t,[{key:"ionViewWillEnter",value:function(){this.getOrder()}},{key:"ngOnInit",value:function(){}},{key:"copy",value:function(t){this.platform.is("mobile")&&!this.platform.is("mobileweb")?this.clipboard.copy(t):this.clipboardService.copyFromContent(t),this.toaster.success("M\u0259tn kopyaland\u0131!")}},{key:"getOrder",value:function(){var t=this;this.isLoading=!0,this.storage.get("user").then((function(n){t.order=n.orders.filter((function(n){return n.id===Number(t.route.snapshot.paramMap.get("order_id"))}))[0],t.isLoading=!1}))}},{key:"presentPopover",value:function(t){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.popoverController.create({component:x,componentProps:{order:this.order},cssClass:"my-custom-class",event:t,translucent:!0});case 2:return e=n.sent,n.next=5,e.present();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"presentTrackingModal",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:s.a,swipeToClose:!0,componentProps:{states:this.order.states}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}}]),t}(),K.\u0275fac=function(t){return new(t||K)(p.Jb(b.a),p.Jb(w.a),p.Jb(f.a),p.Jb(C.b),p.Jb(i.hb),p.Jb(i.ib),p.Jb(i.a),p.Jb(P.b),p.Jb(i.eb),p.Jb(h.b))},K.\u0275cmp=p.Db({type:K,selectors:[["app-order-detail"]],decls:11,vars:3,consts:[["color","tertiary"],["slot","start"],["text","","defaultHref","/dashboard/orders"],["slot","end"],[3,"click"],["slot","icon-only","md","ellipsis-vertical-sharp","ios","ellipsis-vertical-outline"],[4,"ngIf"],["size-md","6","size","12"],[1,"ion-text-wrap"],["color","primary"],["color","medium",3,"ios","md"],["target","_blank",3,"href"],[2,"height","100%"],[1,"ion-justify-content-center","ion-align-items-center",2,"height","100%"],[1,"ion-text-center",2,"display","flex","justify-content","center","align-items","center"],["src","../assets/img/loading.gif",2,"width","100px","height","100px"]],template:function(t,n){1&t&&(p.Pb(0,"ion-header"),p.Pb(1,"ion-toolbar",0),p.Pb(2,"ion-buttons",1),p.Kb(3,"ion-back-button",2),p.Ob(),p.Pb(4,"ion-title"),p.vc(5),p.Ob(),p.Pb(6,"ion-buttons",3),p.Pb(7,"ion-button",4),p.Xb("click",(function(t){return n.presentPopover(t)})),p.Kb(8,"ion-icon",5),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.tc(9,_,130,48,"ion-content",6),p.tc(10,J,5,0,"ion-content",6)),2&t&&(p.yb(5),p.xc("Sifari\u015f #",n.order.id,""),p.yb(4),p.gc("ngIf",!n.isLoading),p.yb(1),p.gc("ngIf",n.isLoading))},directives:[i.t,i.ab,i.h,i.e,i.f,i.Z,i.g,i.u,o.k,i.p,i.s,i.M,i.o,i.x,i.B,i.W,i.v],pipes:[o.c,o.e,o.p],styles:[""]}),K)}],T=((X=function t(){_classCallCheck(this,t)}).\u0275mod=p.Hb({type:X}),X.\u0275inj=p.Gb({factory:function(t){return new(t||X)},imports:[[b.j.forChild(Z)],b.j]}),X),L=((S=function t(){_classCallCheck(this,t)}).\u0275mod=p.Hb({type:S}),S.\u0275inj=p.Gb({factory:function(t){return new(t||S)},imports:[[o.b,r.a,i.bb,T]]}),S)}}]);